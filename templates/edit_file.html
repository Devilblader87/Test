<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Edit {{ path }}</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-6">
<a href="/" class="bg-gray-700 px-2 py-1 rounded">&larr; Back</a>
<h1 class="text-xl mb-4">Editing {{ path }}</h1>
<form method="POST" id="f">
<textarea name="content" class="w-full h-96 text-black p-2 rounded">{{ text }}</textarea>
<button class="bg-green-600 px-4 py-1 rounded mt-2">Save</button>
</form>
<script>
document.getElementById('f').addEventListener('submit',async e=>{
 e.preventDefault();
 const res=await fetch(location.pathname,{method:'POST',headers:{'X-CSRFToken':'{{ csrf_token() }}'},body:new FormData(e.target)});
 if(res.ok) alert('Saved');
});
</script>
</body>
</html>
